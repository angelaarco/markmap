import"../chunks/disclose-version.Bg9kRutz.js";import"../chunks/legacy.BBZB6jHP.js";import{p as C,f as D,b as S,g as o,a as r,s as k,m as a}from"../chunks/utils.D1EJL-44.js";import{a as F,t as H}from"../chunks/template.CZkw3qFU.js";import{i as P}from"../chunks/lifecycle.DD7ZvZC7.js";import{o as y}from"../chunks/index-client.Du6nrK6y.js";import{i as z,g as E}from"../chunks/common.BxGTHmpw.js";import{M as R}from"../chunks/markmap.mqWkOGeH.js";import{T as $}from"../chunks/toolbar.C8uelWmC.js";var x=H("<!> <!>",1);function I(p,w){C(w,!1);let i=a(),s=a(),m=a(""),u=a(!0),l=a();const v={setData(t){r(m,t)},setCursor(t){var e;(e=o(l))==null||e(t)},setFit(t){r(u,t)},downloadSvg(){if(!o(s))return;const t=new XMLSerializer().serializeToString(o(s));n("downloadSvg",t)},downloadHtml(){const t=E();if(!t)return;const e=t.transform(o(m));n("downloadHtml",{result:e})},updateTheme(t){z.set(t)}};function d(t){const{type:e,data:L}=t.data,g=v[e];g==null||g(L)}function n(t,e){parent.postMessage({type:t,data:e},window.location.origin)}function b(){n("getData")}function M(){n("goToFullPage")}function _(){window.location.reload()}function h(t){const e=new URL(t,window.top.location.href);return e.origin===window.location.origin?n("navigate",t):window.open(e,"_blank"),!1}y(()=>(window.addEventListener("message",d),b(),()=>{window.removeEventListener("message",d)})),P();var f=x(),c=D(f);R(c,{class:"w-screen h-screen",get fit(){return o(u)},get content(){return o(m)},onReload:_,onOpenLink:h,get mm(){return o(i)},set mm(t){r(i,t)},get el(){return o(s)},set el(t){r(s,t)},get setCursor(){return o(l)},set setCursor(t){r(l,t)},$$legacy:!0});var T=k(c,2);$(T,{class:"absolute right-0 bottom-0 mr-2 mb-2",get mm(){return o(i)},onFullPageView:M}),F(p,f),S()}export{I as component};
